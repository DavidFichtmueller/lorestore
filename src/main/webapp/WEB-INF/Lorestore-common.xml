<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
    default-lazy-init="true">

    <import resource="siteTailoring.xml" />
    
    <!--
        Only one of the following will be used, depending on the value of the 
        dbContainerFactory and typeFactory aliases established by the tailoring 
        file. Don't forget to configure the respective backend properties in 
        the imported configuration file.
    -->
    
    <import resource="Emmet-common.xml" />

    <bean id="lorestoreProps" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
        <property name="propertiesArray">
            <array>
            <ref bean="emmetProps"/>
            <!-- Lorestore Controller Configuration Properties -->
            <props>

                <!-- This property gives the title of the site -->
                <prop key="lorestore.site.title">${lorestore.site.title}</prop>
                
                <!-- This property gives the base URL  -->
                <prop key="lorestore.base.url">http://${lorestore.hostname}/${lorestore.container}</prop>
                
                <!-- This property gives the home URL -->
                <prop key="lorestore.home.url">http://${lorestore.hostname}/${lorestore.container}/index.html</prop>

                <!-- This property gives the host-relative container URL -->
                <prop key="lorestore.container">/${lorestore.container}</prop>

                

                <!-- This property gives the URL of the directory containing stylesheets. -->
                <prop key="lorestore.styles">/${lorestore.container}/stylesheets
                </prop>

                <!-- This property gives the URL of the directory containing images. -->
                <prop key="lorestore.images">/${lorestore.container}/images
                </prop>      
                
                <!-- This tells the taglib what the session cookie name is. -->
                <prop key="sessionCookieName">JSESSIONID</prop>
                
                <!-- This tells the taglib if security is enabled. -->
                <prop key="securityEnabled">#{ '${emmet.security}' == 'none' ? 'false' : 'true' }</prop>
                
                <!-- This is used by the taglib if https is enabled. -->
                <prop key="httpsEnabled">${httpsEnabled}</prop>
                
                <!-- This tells the taglib where a returnTo button does if all else fails. -->
                <prop key="defaultReturnTo">http://${lorestore.hostname}/${lorestore.container}</prop>
            </props>
            </array>
        </property>
    </bean>

</beans>